"use strict";(self["webpackChunkcasestudy"]=self["webpackChunkcasestudy"]||[]).push([[203],{5572:(t,e,a)=>{a.d(e,{C:()=>s,_:()=>l});const r="/api/",l=async t=>{let e,a=d();try{let l=await fetch(`${r}${t}`,{method:"GET",headers:a});e=await l.json()}catch(l){console.log(l),e={error:`Error has occured: ${l.message}`}}return e},s=async(t,e)=>{let a,l=d();try{let s=await fetch(`${r}${t}`,{method:"POST",headers:l,body:JSON.stringify(e)});a=await s.json()}catch(s){a=s}return a},d=()=>{const t=new Headers,e=JSON.parse(sessionStorage.getItem("customer"));return e?(t.append("Content-Type","application/json"),t.append("Authorization","Bearer "+e.token)):t.append("Content-Type","application/json"),t}},7081:(t,e,a)=>{a.d(e,{p:()=>l,x:()=>r});const r=t=>t.toLocaleString("en-US",{style:"currency",currency:"USD"}),l=t=>{let e;e=void 0===t?new Date:new Date(Date.parse(t));let a=e.getDate(),r=e.getMonth()+1,l=e.getFullYear(),s=e.getHours(),d=e.getMinutes();return d<10&&(d="0"+d),l+"-"+r+"-"+a+" "+s+":"+d}},9203:(t,e,a)=>{a.r(e),a.d(e,{default:()=>H});var r=a(9835),l=a(6970);const s={class:"text-center"},d=["src"],o=(0,r._)("div",{class:"text-h3 q-mt-md text-primary text-bold"},"Order History",-1),c={class:"text-positive text-h6 q-mt-lg q-mb-lg"},i=(0,r.Uk)("#"),n=(0,r.Uk)("Date"),u=["src"],m=(0,r.Uk)("Name"),w=(0,r.Uk)("Quantities"),x=(0,r.Uk)("Extended"),p=(0,r.Uk)(" S O B "),f=(0,r.Uk)("Sub: "),g=(0,r.Uk)("Tax(13%): "),h=(0,r.Uk)("Total: ");function y(t,e,a,y,_,W){const b=(0,r.up)("q-avatar"),k=(0,r.up)("q-item-label"),q=(0,r.up)("q-item-section"),S=(0,r.up)("q-item"),U=(0,r.up)("q-list"),D=(0,r.up)("q-card"),O=(0,r.up)("q-btn"),z=(0,r.up)("q-card-actions"),C=(0,r.up)("q-card-section"),v=(0,r.up)("q-dialog"),Q=(0,r.Q2)("close-popup");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",s,[(0,r.Wm)(b,{style:{height:"70px",width:"110px","margin-top":"20px"}},{default:(0,r.w5)((()=>[(0,r._)("img",{src:"/img/Laptop.png"},null,8,d)])),_:1}),o,(0,r._)("div",c,(0,l.zw)(y.state.status),1)]),(0,r.Wm)(D,{class:"q-ma-sm text-center"},{default:(0,r.w5)((()=>[(0,r.Wm)(U,{highlight:""},{default:(0,r.w5)((()=>[(0,r.Wm)(S,null,{default:(0,r.w5)((()=>[(0,r.Wm)(q,{class:"q-ma-sm text-h5 text-primary text-bold"},{default:(0,r.w5)((()=>[(0,r.Wm)(k,null,{default:(0,r.w5)((()=>[i])),_:1})])),_:1}),(0,r.Wm)(q,{class:"q-ma-sm text-h5 text-primary text-bold"},{default:(0,r.w5)((()=>[(0,r.Wm)(k,null,{default:(0,r.w5)((()=>[n])),_:1})])),_:1})])),_:1}),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(y.state.orders,(t=>((0,r.wg)(),(0,r.j4)(S,{clickable:"",key:t.id,onClick:e=>y.selectOrder(t.id)},{default:(0,r.w5)((()=>[(0,r.Wm)(q,{class:"text-bold"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,l.zw)(t.id),1)])),_:2},1024),(0,r.Wm)(q,{class:"text-bold"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,l.zw)(y.formatDate(t.orderDate)),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),(0,r.Wm)(v,{modelValue:y.state.selectedAOrder,"onUpdate:modelValue":e[0]||(e[0]=t=>y.state.selectedAOrder=t),"transition-show":"rotate","transition-hide":"rotate"},{default:(0,r.w5)((()=>[(0,r.Wm)(D,null,{default:(0,r.w5)((()=>[(0,r.Wm)(z,{align:"right"},{default:(0,r.w5)((()=>[(0,r.wy)((0,r.Wm)(O,{flat:"",label:"X",color:"primary",class:"text-h5"},null,512),[[Q]])])),_:1}),(0,r.Wm)(C,{class:"text-h4 text-center text-bold text-primary"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Order "+(0,l.zw)(y.state.orderDetails[0].orderId),1)])),_:1}),(0,r.Wm)(C,{class:"text-center text-primary"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,l.zw)(y.state.orderDetails[0].dateCreated),1)])),_:1}),(0,r.Wm)(C,{class:"text-center"},{default:(0,r.w5)((()=>[(0,r.Wm)(b,{style:{height:"50px",width:"90px"}},{default:(0,r.w5)((()=>[(0,r._)("img",{src:"/img/Laptop.png"},null,8,u)])),_:1})])),_:1}),(0,r.Wm)(U,{highlight:""},{default:(0,r.w5)((()=>[(0,r.Wm)(S,null,{default:(0,r.w5)((()=>[(0,r.Wm)(q,{class:"text-primary text-bold"},{default:(0,r.w5)((()=>[(0,r.Wm)(k,null,{default:(0,r.w5)((()=>[m])),_:1})])),_:1}),(0,r.Wm)(q,{class:"text-primary text-bold",style:{"margin-left":"40px"}},{default:(0,r.w5)((()=>[(0,r.Wm)(k,null,{default:(0,r.w5)((()=>[w])),_:1})])),_:1}),(0,r.Wm)(q,{class:"text-primary text-bold",style:{"margin-left":"50px"}},{default:(0,r.w5)((()=>[(0,r.Wm)(k,null,{default:(0,r.w5)((()=>[x])),_:1})])),_:1})])),_:1}),(0,r.Wm)(U,{separator:""},{default:(0,r.w5)((()=>[(0,r.Wm)(S,null,{default:(0,r.w5)((()=>[(0,r.Wm)(q,{class:"text-primary text-center",style:{"word-spacing":"20px"}},{default:(0,r.w5)((()=>[p])),_:1})])),_:1}),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(y.state.orderDetails,(t=>((0,r.wg)(),(0,r.j4)(S,{key:t.orderId},{default:(0,r.w5)((()=>[(0,r.Wm)(q,{class:"text-left",style:{"font-size":"9px"}},{default:(0,r.w5)((()=>[(0,r.Uk)((0,l.zw)(t.productName),1)])),_:2},1024),(0,r.Wm)(q,{class:"text-center",style:{"word-spacing":"20px"}},{default:(0,r.w5)((()=>[(0,r.Uk)((0,l.zw)(t.qtySold)+" "+(0,l.zw)(t.qtyOrdered)+" "+(0,l.zw)(t.qtyBackOrdered),1)])),_:2},1024),(0,r.Wm)(q,{class:"text-right"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,l.zw)(y.formatCurrency(t.sellingPrice)),1)])),_:2},1024)])),_:2},1024)))),128)),(0,r.Wm)(S,null,{default:(0,r.w5)((()=>[(0,r.Wm)(q,{class:"text-h7 text-right text-bold"}),(0,r.Wm)(q,{class:"text-h7 text-right text-bold"},{default:(0,r.w5)((()=>[f])),_:1}),(0,r.Wm)(q,{class:"text-right"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,l.zw)(y.formatCurrency(y.state.sub)),1)])),_:1})])),_:1}),(0,r.Wm)(S,null,{default:(0,r.w5)((()=>[(0,r.Wm)(q,{class:"text-h7 text-right text-bold"}),(0,r.Wm)(q,{class:"text-h7 text-left text-bold",style:{"margin-right":"-50px"}},{default:(0,r.w5)((()=>[g])),_:1}),(0,r.Wm)(q,{class:"text-right"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,l.zw)(y.formatCurrency(y.state.tax)),1)])),_:1})])),_:1}),(0,r.Wm)(S,null,{default:(0,r.w5)((()=>[(0,r.Wm)(q,{class:"text-h7 text-right text-bold"}),(0,r.Wm)(q,{class:"text-h7 text-right text-bold text-secondary"},{default:(0,r.w5)((()=>[h])),_:1}),(0,r.Wm)(q,{class:"text-right text-secondary text-bold"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,l.zw)(y.formatCurrency(y.state.sub+y.state.tax)),1)])),_:1})])),_:1}),(0,r.Wm)(q,{class:"text-center text-info text-bold"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,l.zw)(y.state.dialogStatus)+" "+(0,l.zw)(y.state.orderDetails[0].orderId),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var _=a(499),W=a(5572),b=a(7081);const k={setup(){let t=(0,_.qj)({status:"",orders:[],dialogStatus:"",selectedAOrder:!1,orderDetails:[],orderSelected:{id:0,orderAmount:0,orderLineItems:[{id:0,qtySold:0,qtyOnBackOrdered:0,qtyOrdered:0,productId:"",SellingPrice:0}]},sub:0,tax:0});(0,r.bv)((()=>{e()}));const e=async()=>{try{let e=JSON.parse(sessionStorage.getItem("customer"));const a=await(0,W._)(`order/${e.email}`);void 0===a.error?(t.orders=a,t.status=`loaded ${t.orders.length} orders`):t.status=a.error}catch(e){console.log(e),t.status=`Error has occured: ${e.message}`}},a=async e=>{try{let a=JSON.parse(sessionStorage.getItem("customer"));const r=await(0,W._)(`order/${e}/${a.email}`);t.orderDetails=r,t.dialogStatus="details for order ",t.selectedAOrder=!0,t.orderSelected=t.orders.find((t=>t.id===e)),t.orderDetails.forEach((e=>{0==e.qtySold?t.sub:t.sub+=e.sellingPrice,t.tax+=.13*e.sellingPrice}))}catch(a){console.log(a),t.status=`Error has occured: ${a.message}`}};return{state:t,formatDate:b.p,selectOrder:a,formatCurrency:b.x}}};var q=a(1639),S=a(1357),U=a(4458),D=a(3246),O=a(490),z=a(1233),C=a(3115),v=a(7743),Q=a(1821),Z=a(4455),I=a(3190),$=a(2146),A=a(9984),j=a.n(A);const E=(0,q.Z)(k,[["render",y]]),H=E;j()(k,"components",{QAvatar:S.Z,QCard:U.Z,QList:D.Z,QItem:O.Z,QItemSection:z.Z,QItemLabel:C.Z,QDialog:v.Z,QCardActions:Q.Z,QBtn:Z.Z,QCardSection:I.Z}),j()(k,"directives",{ClosePopup:$.Z})}}]);